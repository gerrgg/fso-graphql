(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{162:function(e,a,t){e.exports=t(185)},185:function(e,a,t){"use strict";t.r(a);var n=t(59),r=t(0),l=t.n(r),c=t(19),o=t.n(c),i=t(11),s=t(31),u=t(21),m=t(246),g=t(239),b=t(248),f=t(149),E=t(223),p=t(245),d=t(10),h=t(40);function v(){var e=Object(h.a)(["\n  query recommendations($genre: String!) {\n    allBooks(genre: $genre) {\n      title\n      author {\n        name\n      }\n      genres\n      published\n    }\n  }\n"]);return v=function(){return e},e}function j(){var e=Object(h.a)(["\n  mutation editUser($favoriteGenre: String!) {\n    editUser(favoriteGenre: $favoriteGenre) {\n      username\n      favoriteGenre\n    }\n  }\n"]);return j=function(){return e},e}function O(){var e=Object(h.a)(["\n  query {\n    me {\n      username\n      favoriteGenre\n    }\n  }\n"]);return O=function(){return e},e}function y(){var e=Object(h.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      value\n    }\n  }\n"]);return y=function(){return e},e}function N(){var e=Object(h.a)(["\n  mutation setAuthorBorn($name: String!, $born: Int!) {\n    editAuthor(name: $name, born: $born) {\n      name\n      born\n    }\n  }\n"]);return N=function(){return e},e}function C(){var e=Object(h.a)(["\n  mutation createBook(\n    $title: String!\n    $author: String!\n    $published: Int!\n    $genres: [String!]!\n  ) {\n    addBook(\n      title: $title\n      author: $author\n      published: $published\n      genres: $genres\n    ) {\n      title\n      author {\n        name\n      }\n      published\n      genres\n    }\n  }\n"]);return C=function(){return e},e}function k(){var e=Object(h.a)(["\n  query {\n    allBooks {\n      title\n      author {\n        name\n        born\n        bookCount\n      }\n      published\n      genres\n    }\n  }\n"]);return k=function(){return e},e}function w(){var e=Object(h.a)(["\n  query {\n    allAuthors {\n      name\n      bookCount\n      born\n    }\n  }\n"]);return w=function(){return e},e}function S(){var e=Object(h.a)(["\n  query {\n    bookCount\n  }\n"]);return S=function(){return e},e}function x(){var e=Object(h.a)(["\n  query {\n    authorCount\n  }\n"]);return x=function(){return e},e}Object(d.gql)(x()),Object(d.gql)(S());var q=Object(d.gql)(w()),A=Object(d.gql)(k()),B=Object(d.gql)(C()),T=Object(d.gql)(N()),$=Object(d.gql)(y()),I=Object(d.gql)(O()),G=Object(d.gql)(j()),L=Object(d.gql)(v()),W=t(38),D=t.n(W),Q=t(52),P=t(86),z=t(247),R=t(226),U=t(188),_=t(195),F=t(193),M=t(249),H=t(227),K=t(192),J=t(187),V=Object(E.a)((function(e){return{root:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),X=function(e){var a=e.authors,t=(e.start,e.end,e.notify),c=V(),o=Object(r.useState)(""),s=Object(i.a)(o,2),u=s[0],m=s[1],g=Object(r.useState)(""),b=Object(i.a)(g,2),f=b[0],E=b[1],p={query:q},h=Object(d.useMutation)(T,{onError:function(e){t(e.graphQLErrors[0].message,"error")},update:function(e,a){var t=e.readQuery(p);e.writeQuery(Object(n.a)(Object(n.a)({},p),{},{data:Object(n.a)(Object(n.a)({},t),{},{allAuthors:[].concat(Object(P.a)(t.allAuthors),[a.data.editAuthor])})}))}}),v=Object(i.a)(h,1)[0],j=function(){var e=Object(Q.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),v({variables:{name:u,born:f}}),m(""),E("");case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(z.a,{className:c.root,component:J.a},l.a.createElement(R.a,{className:c.title,variant:"h6"},"Edit Author"),l.a.createElement("form",{onSubmit:j},l.a.createElement(z.a,{display:"flex",flexDirection:"column"},l.a.createElement(U.a,{className:c.formControl},l.a.createElement(_.a,null,"Name"),l.a.createElement(F.a,{value:u,required:!0,onChange:function(e){var a=e.target;return m(a.value)}},a.map((function(e,a){return l.a.createElement(M.a,{key:a,value:e.name},e.name)})))),l.a.createElement(U.a,{className:c.formControl},l.a.createElement(H.a,{type:"number",label:"Born",value:f,required:!0,onChange:function(e){var a=e.target;return E(parseInt(a.value))}}))),l.a.createElement(U.a,{className:c.formControl},l.a.createElement(K.a,{variant:"contained",type:"submit",color:"secondary",size:"medium"},"Set birth year"))))},Y=t(230),Z=t(228),ee=t(229),ae=function(e){var a=e.rows,t=e.columns;return Object(P.a)(Array(a)).map((function(e,a){return l.a.createElement(Z.a,{key:a},Object(P.a)(Array(t)).map((function(e,a){return l.a.createElement(ee.a,{key:a},l.a.createElement(Y.a,null))})))}))},te=t(140),ne=t.n(te),re=t(141),le=t.n(re),ce=function(e){var a=e.classes,t=e.authorCount,n=e.start,r=e.end,c=e.paginate,o=e.children;return l.a.createElement(z.a,{className:a.box,display:"flex"},l.a.createElement(K.a,{color:"primary",disabled:0===n,startIcon:l.a.createElement(ne.a,null),onClick:function(){return c("prev")}},"Previous"),l.a.createElement(K.a,null,0===t?l.a.createElement("span",{role:"img","aria-label":"a robot going beep boop"},"Loading... \ud83e\udd16"):"".concat(n,"-").concat(r," of ").concat(t," Results")),l.a.createElement(K.a,{color:"primary",disabled:r>t,endIcon:l.a.createElement(le.a,null),onClick:function(){return c("next")}},"Next"),o)},oe=t(231),ie=t(232),se=t(233),ue=t(234),me=t(235),ge=Object(E.a)((function(e){return{title:{margin:"".concat(e.spacing(4),"px 0")},box:{justifyContent:"space-between",marginTop:e.spacing(2)},cell:{width:"33%"}}})),be=function(e){e.show;var a=e.notify,t=ge(),n=Object(r.useState)(0),c=Object(i.a)(n,2),o=c[0],s=c[1],u=Object(r.useState)(10),m=Object(i.a)(u,1)[0],g=Object(r.useState)(m),b=Object(i.a)(g,2),f=b[0],E=b[1],p=Object(d.useQuery)(q),h=p.loading?[]:p.data.allAuthors;return l.a.createElement("div",null,l.a.createElement(R.a,{className:t.title,variant:"h2"},0===h.length?"Authors":"".concat(h.length," Authors")),l.a.createElement(oe.a,{container:!0,spacing:3},l.a.createElement(oe.a,{item:!0,xs:12,sm:7},l.a.createElement(ce,{classes:t,authorCount:h.length,start:o,end:f,paginate:function(e){"prev"===e?(s(o-m),E(f-m)):"next"===e&&(s(o+m),E(f+m))}}),l.a.createElement(ie.a,{component:J.a},l.a.createElement(se.a,{className:t.table},l.a.createElement(ue.a,null,l.a.createElement(Z.a,null,l.a.createElement(ee.a,{className:t.cell},"Name"),l.a.createElement(ee.a,{className:t.cell,align:"right"},"Born"),l.a.createElement(ee.a,{className:t.cell,align:"right"},"Number of Books"))),l.a.createElement(me.a,null,p.loading?l.a.createElement(ae,{rows:10,columns:3}):h.slice(o,f).map((function(e){return l.a.createElement(Z.a,{key:e.name},l.a.createElement(ee.a,{className:t.cell,component:"th",scope:"row"},e.name),l.a.createElement(ee.a,{className:t.cell,align:"right"},e.born),l.a.createElement(ee.a,{className:t.cell,align:"right"},e.bookCount))})))))),l.a.createElement(oe.a,{item:!0,xs:12,sm:5},l.a.createElement(X,{authors:h,start:o,end:f,notify:a}))))},fe=t(191),Ee=t(142),pe=t.n(Ee),de=Object(E.a)((function(e){return{root:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),display:"block",minWidth:120},selectEmpty:{marginTop:e.spacing(2)},genreButton:{marginLeft:e.spacing(1)}}})),he=function(e){var a=e.notify,t=de(),n=Object(r.useState)(""),c=Object(i.a)(n,2),o=c[0],s=c[1],u=Object(r.useState)(""),m=Object(i.a)(u,2),g=m[0],b=m[1],f=Object(r.useState)(""),E=Object(i.a)(f,2),p=E[0],h=E[1],v=Object(r.useState)(""),j=Object(i.a)(v,2),O=j[0],y=j[1],N=Object(r.useState)([]),C=Object(i.a)(N,2),k=C[0],w=C[1],S=Object(d.useMutation)(B,{refetchQueries:[{query:A},{query:q}],onError:function(e){a(e.graphQLErrors[0].message,"error")},update:function(e,t){a("".concat(t.data.addBook.title," by ").concat(t.data.addBook.author.name," added!"))}}),x=Object(i.a)(S,1)[0],T=function(){var e=Object(Q.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),o&&g&&p&&k&&(x({variables:{title:o,author:g,published:p,genres:k}}),s(""),h(""),b(""),w([]),y(""));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(z.a,{className:t.root,component:J.a},l.a.createElement(R.a,{className:t.title,variant:"h6"},"Add Book"),l.a.createElement("form",{onSubmit:T},l.a.createElement(U.a,{className:t.formControl},l.a.createElement(H.a,{value:o,label:"Title",required:!0,onChange:function(e){var a=e.target;return s(a.value)}})),l.a.createElement(U.a,{className:t.formControl},l.a.createElement(H.a,{label:"Author",value:g,required:!0,onChange:function(e){var a=e.target;return b(a.value)}})),l.a.createElement(U.a,{className:t.formControl},l.a.createElement(H.a,{label:"Published",type:"number",value:p,required:!0,onChange:function(e){var a=e.target;return h(Number(a.value))}})),l.a.createElement(z.a,{display:"flex",alignItems:"center"},l.a.createElement(U.a,{className:t.formControl},l.a.createElement(H.a,{label:"Genres",value:O,onChange:function(e){var a=e.target;return y(a.value)}}),l.a.createElement(fe.a,null,k.map((function(e){return l.a.createElement(K.a,{key:e,endIcon:l.a.createElement(pe.a,null),onClick:function(){return function(e){w(k.filter((function(a){return a!==e})))}(e)}},e)})))),l.a.createElement(K.a,{className:t.genreButton,variant:"contained",color:"secondary",size:"small",onClick:function(){w(k.concat(O)),y("")}},"Add Genre")),l.a.createElement(U.a,{className:t.formControl},l.a.createElement(K.a,{variant:"contained",type:"submit",color:"primary",size:"large"},"Create Book"))))},ve=t(236),je=t(143),Oe=t.n(je),ye=Object(E.a)((function(e){return{title:{margin:"".concat(e.spacing(4),"px 0")},box:{justifyContent:"space-between",marginTop:e.spacing(2)},cell:{width:"25%"},filter:{margin:"".concat(e.spacing(2),"px auto")}}})),Ne=function(e){var a=e.setFilter,t=e.filter,n=e.classes;return l.a.createElement(ve.a,{color:"primary","aria-label":"outlined primary button group",className:n.filter},["Crime","Horror","Teen","Database","Classic","Refactoring"].map((function(e){return l.a.createElement(K.a,{variant:e.toLowerCase()===t?"contained":null,onClick:function(e){var t,n=e.target;return t=n.textContent,void a(t.toLowerCase())}},e)})),l.a.createElement(K.a,{variant:"contained",color:"secondary",disabled:""===t,endIcon:l.a.createElement(Oe.a,null),onClick:function(){return a("")}},"Clear"))},Ce=function(e){var a=e.notify,t=ye(),n=Object(r.useState)(0),c=Object(i.a)(n,2),o=c[0],s=c[1],u=Object(r.useState)(10),m=Object(i.a)(u,1)[0],g=Object(r.useState)(m),b=Object(i.a)(g,2),f=b[0],E=b[1],p=Object(r.useState)(""),h=Object(i.a)(p,2),v=h[0],j=h[1],O=Object(d.useQuery)(A),y=O.loading?[]:O.data.allBooks;return v&&(y=y.filter((function(e){return e.genres.includes(v)}))),l.a.createElement("div",null,l.a.createElement(R.a,{className:t.title,variant:"h2"},0===y.length?"Books":"".concat(y.length," books ").concat(v?' in "'.concat(v,'"'):"")),l.a.createElement(Ne,{classes:t,setFilter:function(e){j(e.toLowerCase()),s(0),E(10)},filter:v}),l.a.createElement(oe.a,{container:!0,spacing:3},l.a.createElement(oe.a,{item:!0,xs:12,sm:7},l.a.createElement(ie.a,{component:J.a},l.a.createElement(ce,{classes:t,authorCount:y.length,start:o,end:f,paginate:function(e){"prev"===e?(s(o-m),E(f-m)):"next"===e&&(s(o+m),E(f+m))}}),l.a.createElement(se.a,{className:t.table},l.a.createElement(ue.a,null,l.a.createElement(Z.a,null,l.a.createElement(ee.a,{className:t.cell},"Title"),l.a.createElement(ee.a,{className:t.cell,align:"right"},"Author"),l.a.createElement(ee.a,{className:t.cell,align:"right"},"Genres"),l.a.createElement(ee.a,{className:t.cell,align:"right"},"Published"))),l.a.createElement(me.a,null,O.loading?l.a.createElement(ae,{rows:10,columns:4}):y.slice(o,f).map((function(e){return l.a.createElement(Z.a,{key:e.title},l.a.createElement(ee.a,{className:t.cell,component:"th",scope:"row"},e.title),l.a.createElement(ee.a,{className:t.cell,align:"right"},"".concat(e.author?e.author.name:"Anonymous")),l.a.createElement(ee.a,{className:t.cell,align:"right"},e.genres.join(", ")),l.a.createElement(ee.a,{className:t.cell,align:"right"},e.published))})))))),l.a.createElement(oe.a,{item:!0,xs:12,sm:5},l.a.createElement(he,{notify:a,start:o,end:f}))))},ke=t(237),we=t(238),Se=t(240),xe=t(241),qe=t(242),Ae=t(243),Be=t(244),Te=Object(E.a)((function(e){return{root:{flexGrow:1},container:{display:"flex",alignItems:"center",justifyContent:"space-between"},logoWrapper:{textDecoration:"none",color:"inherit"},logo:{fontFamily:"'Rock Salt', cursive",display:"inline",marginRight:e.spacing(2),wordWrap:"none"},button:{marginRight:e.spacing(1)},wrapper:{float:"right"},menuButton:{color:"inherit"}}}));function $e(e){var a=e.token,t=e.setToken,n=Te(),r=Object(d.useApolloClient)();return l.a.createElement("div",{className:n.root},l.a.createElement(ke.a,{position:"static"},l.a.createElement(we.a,null,l.a.createElement(g.a,{className:n.container,maxWidth:"md"},l.a.createElement(s.b,{to:"/",className:n.logoWrapper},l.a.createElement(R.a,{className:n.logo,variant:"h6"},l.a.createElement("span",{role:"img","aria-label":"pile of books"},"\ud83d\udcda")," ","Library"," ",l.a.createElement("span",{role:"img","aria-label":"pile of books"},"\ud83d\udcda"))),l.a.createElement("div",{className:n.wrapper},l.a.createElement(s.b,{to:"/books",className:n.menuButton},l.a.createElement(Se.a,{className:n.button,edge:"start",color:"inherit"},l.a.createElement(xe.a,null))),l.a.createElement(s.b,{to:"/authors",className:n.menuButton},l.a.createElement(Se.a,{className:n.button,edge:"start",color:"inherit"},l.a.createElement(qe.a,null))),a?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.b,{to:"/user",className:n.menuButton},l.a.createElement(Se.a,{className:n.button,color:"inherit",edge:"start"},l.a.createElement(Ae.a,null))),l.a.createElement(Se.a,{edge:"end",className:n.button,color:"inherit",onClick:function(){return t(null),localStorage.clear(),void r.resetStore()}},l.a.createElement(Be.a,null))):null)))))}var Ie=Object(E.a)((function(e){return{root:{margin:"".concat(e.spacing(2),"px auto"),padding:e.spacing(2),maxWidth:400},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),Ge=function(e){var a=e.notify,t=e.setToken,n=Ie(),c=Object(u.f)(),o=Object(r.useState)("greg"),s=Object(i.a)(o,2),m=s[0],g=s[1],b=Object(r.useState)("secred"),f=Object(i.a)(b,2),E=f[0],p=f[1],h=Object(d.useMutation)($,{onError:function(e){console.log(e),a(e.graphQLErrors[0].message,"error")},update:function(e,t){a("Login successful!"),c.push("/")}}),v=Object(i.a)(h,2),j=v[0],O=v[1];Object(r.useEffect)((function(){if(O.data){var e=O.data.login.value;t(e),localStorage.setItem("library-user-token",e)}}),[O.data,t]);var y=function(){var e=Object(Q.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),j({variables:{username:m,password:E}});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(z.a,{className:n.root,component:J.a},l.a.createElement(R.a,{className:n.title,variant:"h2"},"Login"),l.a.createElement("form",{onSubmit:y},l.a.createElement(z.a,{display:"flex",flexDirection:"column"},l.a.createElement(U.a,{className:n.formControl},l.a.createElement(H.a,{label:"Username",value:m,required:!0,onChange:function(e){var a=e.target;return g(a.value)}})),l.a.createElement(U.a,{className:n.formControl},l.a.createElement(H.a,{type:"password",label:"Password",value:E,required:!0,onChange:function(e){var a=e.target;return p(a.value)}}))),l.a.createElement(U.a,{className:n.formControl},l.a.createElement(K.a,{variant:"contained",type:"submit",color:"secondary",size:"large"},"Login"))))},Le=t(145),We=t.n(Le),De=Object(E.a)((function(e){return{root:{margin:"".concat(e.spacing(2),"px auto"),padding:e.spacing(2),maxWidth:400},formControl:{margin:e.spacing(1),minWidth:120},loading:{width:"100%"}}})),Qe=function(e){var a=e.notify,t=De(),n=Object(u.f)(),c=Object(r.useState)(""),o=Object(i.a)(c,2),m=o[0],g=o[1],b=Object(d.useQuery)(I),f=Object(d.useMutation)(G,{refetchQueries:[{query:I}],onError:function(e){console.log(e),a(e.graphQLErrors[0].message,"error")},update:function(){a("Update successful!"),n.push("/")}}),E=Object(i.a)(f,1)[0],p=b.loading?null:b.data.me;Object(r.useEffect)((function(){p&&p.favoriteGenre&&g(p.favoriteGenre)}),[p]);var h=function(){var e=Object(Q.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),m&&E({variables:{favoriteGenre:m}});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(z.a,{className:t.root,component:J.a},p?l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,{className:t.title,variant:"h4"},"Edit User"),l.a.createElement("form",{onSubmit:h},l.a.createElement(z.a,{display:"flex",flexDirection:"column"},l.a.createElement(U.a,{className:t.formControl},l.a.createElement(H.a,{label:"Username",disabled:!0,value:p.username})),l.a.createElement(U.a,{className:t.formControl},l.a.createElement(H.a,{label:"Favorite Genre",value:m,onChange:function(e){var a=e.target;return g(a.value)}}),l.a.createElement(fe.a,null,"We use this to offer personalized book"," ",l.a.createElement(s.b,{to:"/recommendations"},"recommendations"),"."))),l.a.createElement(U.a,{className:t.formControl},l.a.createElement(K.a,{variant:"contained",type:"submit",color:"secondary",startIcon:l.a.createElement(We.a,null),size:"large"},"Save Changes")))):l.a.createElement("p",null,l.a.createElement(Y.a,null),l.a.createElement(Y.a,null),l.a.createElement(Y.a,null)))},Pe=Object(E.a)((function(e){return{title:{margin:"".concat(e.spacing(4),"px 0")},box:{justifyContent:"space-between",marginTop:e.spacing(2)},cell:{width:"25%"},filter:{margin:"".concat(e.spacing(2),"px auto")},buttonControl:{justifyContent:"space-between",margin:"".concat(e.spacing(2),"px 0")}}})),ze=function(e){e.notify;var a=Pe(),t=Object(d.useQuery)(I),n=Object(d.useLazyQuery)(L),c=Object(i.a)(n,2),o=c[0],u=c[1],m=t.loading?null:t.data.me;Object(r.useEffect)((function(){m&&m.favoriteGenre&&o({variables:{genre:m.favoriteGenre}})}),[m,o]);var g=u.data?u.data.allBooks:[];return l.a.createElement("div",null,l.a.createElement(R.a,{className:a.title,variant:"h3"},0===g.length?"Recommendations":"".concat(g.length," recommended books ").concat(m?' in "'.concat(m.favoriteGenre,'"'):"")),l.a.createElement(z.a,{display:"flex",alignItems:"center",className:a.buttonControl},l.a.createElement(s.b,{to:"/user"},l.a.createElement(K.a,null,"Change favorite genre")),l.a.createElement(s.b,{to:"/"},l.a.createElement(K.a,{variant:"contained",color:"primary"},"All Books"))),l.a.createElement(oe.a,{container:!0,spacing:3},l.a.createElement(oe.a,{item:!0,xs:12},l.a.createElement(ie.a,{component:J.a},l.a.createElement(se.a,{className:a.table},l.a.createElement(ue.a,null,l.a.createElement(Z.a,null,l.a.createElement(ee.a,{className:a.cell},"Title"),l.a.createElement(ee.a,{className:a.cell,align:"right"},"Author"),l.a.createElement(ee.a,{className:a.cell,align:"right"},"Genres"),l.a.createElement(ee.a,{className:a.cell,align:"right"},"Published"))),l.a.createElement(me.a,null,g.length?g.map((function(e){return l.a.createElement(Z.a,{key:e.title},l.a.createElement(ee.a,{className:a.cell,component:"th",scope:"row"},e.title),l.a.createElement(ee.a,{className:a.cell,align:"right"},"".concat(e.author?e.author.name:"Anonymous")),l.a.createElement(ee.a,{className:a.cell,align:"right"},e.genres.join(", ")),l.a.createElement(ee.a,{className:a.cell,align:"right"},e.published))})):l.a.createElement(ae,{rows:10,columns:4})))))))},Re=Object(f.a)({palette:{primary:{main:"#263238"},secondary:{main:"#EF5350"}}}),Ue=Object(E.a)((function(e){return{notify:{marginTop:e.spacing(2)}}})),_e=function(e){var a=e.errorMessage,t=e.severity,n=Ue();return t=t||"success",a?l.a.createElement(b.a,{className:n.notify,severity:t},a):null},Fe=function(){var e=Object(r.useState)(localStorage.getItem("library-user-token")?localStorage.getItem("library-user-token"):null),a=Object(i.a)(e,2),t=a[0],n=a[1],c=Object(r.useState)(null),o=Object(i.a)(c,2),b=o[0],f=o[1],E=Object(r.useState)(null),d=Object(i.a)(E,2),h=d[0],v=d[1],j=function(e,a){f(e),v(a),setTimeout((function(){f(null),v(null)}),5e3)};return l.a.createElement(s.a,null,l.a.createElement(p.a,{theme:Re},l.a.createElement(m.a,null),l.a.createElement($e,{token:t,setToken:n}),l.a.createElement(g.a,{maxWidth:"md"},l.a.createElement(_e,{errorMessage:b,severity:h}),t?l.a.createElement(u.c,null,l.a.createElement(u.a,{path:"/authors"},l.a.createElement(be,{notify:j})),l.a.createElement(u.a,{path:"/user"},l.a.createElement(Qe,{notify:j})),l.a.createElement(u.a,{path:"/books"},l.a.createElement(Ce,{notify:j})),l.a.createElement(u.a,{exact:!0,path:"/"},l.a.createElement(ze,{notify:j}))):l.a.createElement(Ge,{notify:j,setToken:n}))))},Me=t(150),He=Object(Me.a)((function(e,a){var t=a.headers,r=localStorage.getItem("library-user-token");return{headers:Object(n.a)(Object(n.a)({},t),{},{authorization:r?"bearer ".concat(r):null})}}));console.log(window.location,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}));var Ke="".concat(window.location.host,"/api"),Je=new d.HttpLink({uri:Ke}),Ve=new d.ApolloClient({cache:new d.InMemoryCache,link:He.concat(Je)});o.a.render(l.a.createElement(d.ApolloProvider,{client:Ve},l.a.createElement(Fe,null)),document.getElementById("root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.4a3c9992.chunk.js.map